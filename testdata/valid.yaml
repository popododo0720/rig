project:
  name: test-app
  language: go
  description: Test application

source:
  platform: github
  repo: test/repo
  base_branch: main
  token: ${GITHUB_TOKEN}

ai:
  provider: anthropic
  model: claude-opus-4-6
  api_key: ${ANTHROPIC_API_KEY}
  max_retry: 3
  context:
    - "This is a test project"

deploy:
  method: custom
  config:
    commands:
      - name: build
        run: "echo building"
        workdir: "."
        timeout: 60s
        retry: 2
        transport:
          type: local
  timeout: 300s
  rollback:
    enabled: false

test:
  - type: command
    name: unit-test
    run: "go test ./..."
    timeout: 120s

workflow:
  trigger:
    - event: issue.opened
      labels: ["auto"]
  steps: ["code", "deploy", "test", "report"]
  approval:
    before_deploy: false

notify:
  - type: comment
    on: ["all"]

server:
  port: 8080
  secret: ${WEBHOOK_SECRET}
